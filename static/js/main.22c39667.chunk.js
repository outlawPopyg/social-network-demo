(this["webpackJsonpsamurai-1"]=this["webpackJsonpsamurai-1"]||[]).push([[0],{120:function(t,e,n){"use strict";n.d(e,"b",(function(){return i}));var r=n(23),c=n(3),s=n(34),a="SEND-MESSAGE",i=function(t){return{type:"SEND-MESSAGE",value:t}},o={messagesData:[{id:Object(s.a)(),message:"Hello, how are you?"},{id:Object(s.a)(),message:"Can you help me ? "},{id:Object(s.a)(),message:"Get my dick inside"}],dialogsData:[{id:Object(s.a)(),name:"Ivan"},{id:Object(s.a)(),name:"Andrew"},{id:Object(s.a)(),name:"Calvin"},{id:Object(s.a)(),name:"Dutch"}]};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case a:var n=e.value;return Object(c.a)(Object(c.a)({},t),{},{messagesData:[].concat(Object(r.a)(t.messagesData),[{id:Object(s.a)(),message:n}])});default:return t}}},121:function(t,e,n){},160:function(t,e,n){},161:function(t,e,n){},17:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return u}));var r=n(3),c=n(69),s=(n(1),n(189),n(0)),a=["input","meta"],i=function(t){return function(e){var n=e.input,i=e.meta,o=Object(c.a)(e,a),u=i.error,l=i.touched,j=u&&l;return Object(s.jsxs)("div",{className:"form-control ".concat(j?"error":""),children:[Object(s.jsx)(t,Object(r.a)(Object(r.a)({},n),o)),j&&Object(s.jsx)("span",{children:u})]})}},o=i((function(t){return Object(s.jsx)("textarea",Object(r.a)({},t))})),u=i((function(t){return Object(s.jsx)("input",Object(r.a)({},t))}))},185:function(t,e,n){},186:function(t,e,n){},187:function(t,e,n){},188:function(t,e,n){},189:function(t,e,n){},290:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n.n(r),s=n(64),a=n.n(s),i=n(28),o=n(29),u=n(32),l=n(31),j=(n(160),n(161),n(12)),b=n(0),d=function(){return Object(b.jsxs)("nav",{children:[Object(b.jsx)("div",{children:Object(b.jsx)(j.b,{to:"/profile",children:"Profile"})}),Object(b.jsx)("div",{children:Object(b.jsx)(j.b,{to:"/dialogs",children:"Dialogs"})}),Object(b.jsx)("div",{children:Object(b.jsx)(j.b,{to:"/users",children:"Users"})}),Object(b.jsx)("div",{children:Object(b.jsx)(j.b,{to:"/music",children:"Music"})}),Object(b.jsx)("div",{children:Object(b.jsx)(j.b,{to:"/settings",children:"Settings"})})]})},O=n(10),f=n(3),h=n(11),p=n(23),g=n(126),m=n.n(g).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"d7a22d46-2b9f-4ab6-9764-bdb9ae134d6d"}}),x=function(t){var e=new FormData;return e.append("image",t),m.put("profile/photo",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){return t.data}))},v="TOGGLE-FOLLOW",S="SET-USERS",w="SET-CURRENT-PAGE",P="SET-TOTAL-USERS-COUNT",k="SET-FETCHING",y="FOLLOWING-IN-PROGRESS",C="GET-STATUS",U={users:[],pageSize:100,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[],followingId:null,status:"",fake:10},I=function(t){return{type:v,userId:t}},T=function(t){return{type:k,isFetching:t}},E=function(t,e){return{type:y,followingInProgress:t,followingId:e}},A=function(t){return{type:C,status:t}},N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case v:var n=t.users,r=n.find((function(t){return t.id===e.userId}));return Object(f.a)(Object(f.a)({},t),{},{users:[].concat(Object(p.a)(n.slice(0,n.findIndex((function(t){return t.id===e.userId})))),[Object(f.a)(Object(f.a)({},r),{},{followed:!r.followed})],Object(p.a)(n.slice(n.findIndex((function(t){return t.id===e.userId}))+1)))});case S:return Object(f.a)(Object(f.a)({},t),{},{users:e.users});case w:return Object(f.a)(Object(f.a)({},t),{},{currentPage:e.currentPage});case P:return Object(f.a)(Object(f.a)({},t),{},{totalUsersCount:e.totalUsersCount});case k:return Object(f.a)(Object(f.a)({},t),{},{isFetching:e.isFetching});case y:return Object(f.a)(Object(f.a)({},t),{},{followingInProgress:e.followingInProgress?[].concat(Object(p.a)(t.followingInProgress),[e.followingId]):t.followingInProgress.filter((function(t){return t!==e.followingId}))});case C:return Object(f.a)(Object(f.a)({},t),{},{status:e.status});default:return t}},D=(n(185),n.p+"static/media/user.55758720.png"),F=(n(186),function(){return Object(b.jsxs)("div",{className:"loader",children:[Object(b.jsx)("div",{className:"loader__bar"}),Object(b.jsx)("div",{className:"loader__bar"}),Object(b.jsx)("div",{className:"loader__bar"}),Object(b.jsx)("div",{className:"loader__bar"}),Object(b.jsx)("div",{className:"loader__bar"}),Object(b.jsx)("div",{className:"loader__ball"})]})}),_=function(t){return function(e){return e.isFetching?Object(b.jsx)(F,{}):Object(b.jsx)(t,Object(f.a)({},e))}},L=n(25),z=(n(187),c.a.memo((function(t){for(var e=t.totalUsersCount,n=t.pageSize,c=t.setCurrentPage,s=t.currentPage,a=t.portionSize,i=void 0===a?10:a,o=Object(r.useState)(1),u=Object(L.a)(o,2),l=u[0],j=u[1],d=Math.ceil(e/n),O=(l-1)*i+1,f=l*i,h=[],p=1;p<=d;p++)h.push(p);return Object(b.jsxs)(b.Fragment,{children:[l>1&&Object(b.jsx)("button",{onClick:function(){return j(l-1)},children:"left"}),Object(b.jsx)("div",{className:"numbers",children:h.slice(O-1,f).map((function(t){return Object(b.jsx)("span",{onClick:function(){return c(t)},className:t===s?"selectedPage":null,children:t},t)}))}),d>10*l-1&&Object(b.jsx)("button",{onClick:function(){return j(l+1)},children:"Right"})]})}))),M=_((function(t){var e=t.toggleFollow,n=t.followingInProgress,r=t.pageSize,c=t.totalUsersCount,s=t.users,a=t.currentPage,i=t.setCurrentPage;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"UsersPage"}),Object(b.jsx)(z,{pageSize:r,totalUsersCount:c,setCurrentPage:i,currentPage:a,portionSize:10}),Object(b.jsx)("ul",{className:"list",children:s.map((function(t){var r=t.id,c=t.name,s=t.followed,a=t.photos.small;return Object(b.jsxs)("li",{className:"user",children:[Object(b.jsx)("div",{className:"image",children:Object(b.jsx)(j.b,{to:"profile/".concat(r),children:Object(b.jsx)("img",{src:null!==a?a:D,alt:"user"})})}),Object(b.jsx)("div",{children:c}),Object(b.jsx)("button",{disabled:n.some((function(t){return t===r})),onClick:function(t,n){e(r,s?"delete":"post")},children:s?"Unfollow":"Follow"})]},r)}))})]})}),"isFetching"),R=n(129),G=Object(R.a)((function(t){return t.usersPage.users}),(function(t){return t.filter((function(t){return!0}))})),J=function(t){return t.usersPage.pageSize},H=function(t){return t.usersPage.totalUsersCount},B=function(t){return t.usersPage.currentPage},V=function(t){return t.usersPage.followingInProgress},W=function(t){return t.usersPage.isFetching},X=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"componentDidUpdate",value:function(t,e,n){t.currentPage!==this.props.currentPage&&this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(b.jsx)(M,Object(f.a)({},this.props))}}]),n}(r.Component),Y={onToggleFollow:I,setCurrentPage:function(t){return{type:w,currentPage:t}},setFollowing:E,getUsers:function(t,e){return function(n){n(T(!0)),function(t,e){return m.get("users?page=".concat(t,"&count=").concat(e)).then((function(t){return t.data}))}(t,e).then((function(t){var e,r;n((e=t.items,{type:S,users:e})),n((r=Math.round(t.totalCount),{type:P,totalUsersCount:r}))})).finally((function(){return n(T(!1))}))}},toggleFollow:function(t,e){return function(n){n(E(!0,t)),function(t,e){return m[e]("/follow/".concat(t),{}).then((function(t){return t.data}))}(t,e).then((function(e){0===e.resultCode&&n(I(t))})).finally((function(){return n(E(!1,t))}))}}},q=Object(h.b)((function(t){return{users:G(t),pageSize:J(t),totalUsersCount:H(t),currentPage:B(t),followingInProgress:V(t),isFetching:W(t)}}),Y)(X),K=(n(188),n(24)),Z="SET-USER-DATA",Q="SET-CAPTCHA-URL",$={id:null,email:null,login:null,isAuth:!1,captchaUrl:""},tt=function(t,e,n,r){return{type:Z,payload:{id:t,email:e,login:n,isAuth:r}}},et=function(){return function(t){return m.get("security/get-captcha-url").then((function(t){return t.data})).then((function(e){return t((n=e.url,{type:Q,captchaUrl:n}));var n}))}},nt=function(){return function(t){return m.get("auth/me",{withCredentials:!0}).then((function(e){if(0===e.data.resultCode){var n=e.data.data,r=n.id,c=n.email,s=n.login;t(tt(r,c,s,!0))}else console.log("You are not authorized")}))}},rt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Z:return Object(f.a)(Object(f.a)({},t),e.payload);case Q:return Object(f.a)(Object(f.a)({},t),{},{captchaUrl:e.captchaUrl});default:return t}},ct=Object(h.b)(null,{logout:function(){return function(t){m.delete("auth/login").then((function(t){return t.data})).then((function(e){0===e.resultCode?t(tt(null,null,null,!1)):console.log("Something went wrong")}))}}})((function(t){var e=t.isAuth,n=t.login,r=t.logout;return Object(b.jsxs)("header",{children:[Object(b.jsx)("div",{className:"image",children:Object(b.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/ab/Android_O_Preview_Logo.png",alt:"logo"})}),Object(b.jsx)("div",{className:"login",children:e?Object(b.jsxs)("div",{children:[n," ",Object(b.jsx)("button",{onClick:r,children:"logout"})]}):Object(b.jsx)(j.b,{to:"/login",children:"Login"})})]})})),st=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)(ct,Object(f.a)({},this.props))}}]),n}(r.Component),at={setUserData:tt,authMeThunk:nt},it=Object(h.b)((function(t){return{userId:t.auth.userId,email:t.auth.email,login:t.auth.login,isAuth:t.auth.isAuth}}),at)(st),ot=n(122),ut=n(123),lt=n(17),jt=n(38),bt=n(65),dt=Object(jt.a)(30),Ot=Object(ut.a)({form:"login"})((function(t){var e=t.handleSubmit,n=t.error,r=t.captchaUrl;return Object(b.jsx)("form",{onSubmit:e,children:Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:Object(b.jsx)(ot.a,{placeholder:"Login",name:"email",component:lt.a,validate:[jt.b,dt]})}),Object(b.jsx)("div",{children:Object(b.jsx)(ot.a,{placeholder:"Password",name:"password",component:lt.a,validate:[jt.b,dt]})}),Object(b.jsxs)("div",{children:[Object(b.jsx)(ot.a,{component:lt.a,type:"checkbox",name:"rememberMe"})," remember me"]}),n&&Object(b.jsx)("div",{className:"form-summary-error",children:n}),r&&Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:r,alt:"captcha"}),Object(b.jsx)(ot.a,{name:"captcha",component:lt.a})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{children:"Sign in"})})]})})})),ft={login:function(t){return function(e){(function(t){var e=t.email,n=t.password,r=t.rememberMe,c=t.captcha;return m.post("auth/login",{email:e,password:n,rememberMe:r,captcha:c}).then((function(t){return t.data}))})(t).then((function(t){0===t.resultCode?e(nt()):(10===t.resultCode&&e(et()),e(Object(K.a)("login",{_error:"Something went wrong"})))}))}}},ht=Object(h.b)((function(t){return{captchaUrl:t.auth.captchaUrl}}),ft)(Object(bt.a)((function(t){var e=t.login,n=t.captchaUrl;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"Login"}),Object(b.jsx)(Ot,{captchaUrl:n,onSubmit:function(t){console.log(t),e(t)}})]})}),"profile",(function(t){return t.isAuth}))),pt=n(9),gt={initialized:!1},mt="SET-INITIALIZE",xt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case mt:return Object(f.a)(Object(f.a)({},t),{},{initialized:!0});default:return t}},vt=n(120),St=n(53),wt=n.n(St),Pt=n(90),kt=n(34),yt="ADD-POST",Ct="SET-USER-PROFILE",Ut="DELETE-POST",It="SET-PHOTOS-SUCCESS",Tt={userInfo:"",postsData:[{id:Object(kt.a)(),message:"Hi, how are you?",likesCount:12},{id:Object(kt.a)(),message:"It's my first post",likesCount:9}]},Et=function(t){return{type:Ct,userInfo:t}},At=function(t){return function(e){(function(t){return m.get("profile/".concat(t))})(t).then((function(t){return e(Et(t.data))}))}},Nt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Ut:var n=e.id;return Object(f.a)(Object(f.a)({},t),{},{postsData:[].concat(Object(p.a)(t.postsData.slice(0,n)),Object(p.a)(t.postsData.slice(n+1)))});case yt:var r=e.value;return Object(f.a)(Object(f.a)({},t),{},{postsData:[].concat(Object(p.a)(t.postsData),[{id:Object(kt.a)(),message:r,likesCount:4}])});case Ct:return Object(f.a)(Object(f.a)({},t),{},{userInfo:e.userInfo});case It:return Object(f.a)(Object(f.a)({},t),{},{userInfo:Object(f.a)(Object(f.a)({},t.userInfo),e.photos)});default:return t}},Dt=n(128),Ft=n(124),_t=Object(pt.c)({dialogsPage:vt.a,contentPage:Nt,usersPage:N,auth:rt,app:xt,form:Ft.a}),Lt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||pt.d,zt=Object(pt.e)(_t,Lt(Object(pt.a)(Dt.a))),Mt=n(69),Rt=c.a.memo((function(t){var e=t.status,n=t.setUserStatusThunk,c=Object(r.useState)(!1),s=Object(L.a)(c,2),a=s[0],i=s[1],o=Object(r.useState)(e),u=Object(L.a)(o,2),l=u[0],j=u[1];return Object(r.useEffect)((function(){return j(e)}),[e]),Object(b.jsxs)(b.Fragment,{children:[!a&&Object(b.jsx)("div",{children:Object(b.jsx)("span",{onDoubleClick:function(){return i(!0)},children:e||"no"})}),a&&Object(b.jsx)("div",{children:Object(b.jsx)("input",{autoFocus:!0,onBlur:function(t){i(!1),n(l)},onChange:function(t){return j(t.target.value)},value:l,type:"text"})})]})})),Gt=["setUserPhotoThunk","userInfo","isAuth","id","status","setUserStatusThunk","owner"],Jt=function(t){var e=t.title,n=t.value;return Object(b.jsxs)("div",{children:[e,": ",n]})},Ht=function(t){var e=t.setUserPhotoThunk,n=t.userInfo,r=t.isAuth,c=t.id,s=t.status,a=t.setUserStatusThunk,i=t.owner;Object(Mt.a)(t,Gt);if(!r)return Object(b.jsx)(O.a,{to:"/login"});if(!n)return Object(b.jsx)(F,{});var o=n.contacts,u=n.fullName,l=n.photos.large,j=n.aboutMe,d=n.lookingForAJob,f=n.lookingForAJobDescription;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"main-image",children:[Object(b.jsx)("img",{src:l||D,alt:"main"}),i&&Object(b.jsx)("input",{type:"file",onChange:function(t){var n=t.target;n.files.length&&e(n.files[0])}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Looking for a job:"})," ",d?"yes":"no"]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"About me:"})," ",j||"not added"]}),Object(b.jsx)("div",{children:d&&Object(b.jsxs)("b",{children:["My professional skills: ",f]})}),Object(b.jsx)("div",{children:Object.entries(o).map((function(t){var e=Object(L.a)(t,2),n=e[0],r=e[1];return Object(b.jsx)(Jt,{title:n,value:r},n)}))}),Object(b.jsx)("h1",{children:u}),Object(b.jsx)(Rt,{status:s,id:c,setUserStatusThunk:a})]})},Bt=(n(121),function(t){var e=t.message;return Object(b.jsxs)("p",{children:["- ",e]})}),Vt=Object(jt.a)(10),Wt=c.a.memo((function(t){var e=t.postsData,n=t.onButtonClick;console.log("render");return Object(b.jsxs)("div",{children:[Object(b.jsx)(Xt,{onSubmit:function(t){var e=t.postText;return n(e)}}),Object(b.jsx)("div",{children:e.map((function(t){return Object(b.jsx)(Bt,Object(f.a)({},t),t.id)}))})]})})),Xt=Object(ut.a)({form:"postsForm"})((function(t){var e=t.handleSubmit;return Object(b.jsxs)("form",{onSubmit:e,children:[Object(b.jsx)("h1",{children:"My posts"}),Object(b.jsx)(ot.a,{name:"postText",type:"text",component:lt.a,validate:[jt.b,Vt]}),Object(b.jsx)("button",{className:"my-posts-button",children:"Add new post"})]})})),Yt=Wt,qt=Object(h.b)((function(t){return{postsData:t.contentPage.postsData}}),(function(t){return{onButtonClick:function(e){return t(function(t){return{type:"ADD-POST",value:t}}(e))}}}))(Yt),Kt=Object(ut.a)({form:"edit-profile"})((function(t){var e=t.handleSubmit,n=t.userInfo,r=t.error;return Object(b.jsxs)("form",{onSubmit:e,children:[Object(b.jsx)("div",{children:r&&Object(b.jsx)("div",{children:"Something went wrong"})}),Object(b.jsx)("button",{children:"save"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Full name:"}),Object(b.jsx)(ot.a,{name:"fullName",placeholder:"Full name",component:lt.a})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Looking for a job:"}),Object(b.jsx)(ot.a,{name:"lookingForAJob",type:"checkbox",component:"input"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Looking for a job description:"}),Object(b.jsx)(ot.a,{name:"lookingForAJobDescription",component:lt.b})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"My professional skills:"}),Object(b.jsx)(ot.a,{name:"skills",component:lt.b})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"About me:"}),Object(b.jsx)(ot.a,{name:"aboutMe",component:lt.b})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Contacts:"}),Object.keys(n.contacts).map((function(t){return Object(b.jsx)(ot.a,{component:lt.a,name:"contacts."+t,placeholder:t})}))]})]})})),Zt=function(t){var e=Object(r.useState)(!1),n=Object(L.a)(e,2),c=n[0],s=n[1];return Object(b.jsxs)("div",{className:"main-content",children:[Object(b.jsx)("button",{onClick:function(){return s(!0)},children:"Edit"}),c?Object(b.jsx)(Kt,{userInfo:t.userInfo,initialValues:t.userInfo,onSubmit:function(e){t.updateProfileInfo(e).then((function(){return s(!1)})).catch((function(t){}))}}):Object(b.jsx)(Ht,Object(f.a)({},t)),Object(b.jsx)(qt,{})]})},Qt=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.match.params.id,e=void 0===t?this.props.id:t;console.log("mount in contentContainer"),this.props.getUserProfileThunk(e),this.props.getUserStatusThunk(e)}},{key:"componentDidUpdate",value:function(t,e,n){console.log("update in contentContainer");var r=this.props.match.params.id,c=void 0===r?this.props.id:r;t.match.params.id!==c&&t.status!==this.props.status&&JSON.stringify(t.userInfo)!==JSON.stringify(this.props.userInfo)&&(this.props.getUserProfileThunk(c),this.props.getUserStatusThunk(c))}},{key:"render",value:function(){return Object(b.jsx)(Zt,Object(f.a)(Object(f.a)({},this.props),{},{owner:!this.props.match.params.id}))}}]),n}(r.Component),$t={setUserProfile:Et,getUserProfileThunk:At,getUserStatusThunk:function(t){return function(e){(function(t){return m.get("profile/status/".concat(t)).then((function(t){return t.data}))})(t).then((function(t){return e(A(t))}))}},setUserStatusThunk:function(t){return function(e){(function(t){return m.put("profile/status",{status:t}).then((function(t){return t.data}))})(t).then((function(n){return e(A(t))}))}},setUserPhotoThunk:function(t){return function(){var e=Object(Pt.a)(wt.a.mark((function e(n){var r;return wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:0===(r=e.sent).resultCode&&n((c=r.data,{type:It,photos:c}));case 4:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}()},updateProfileInfo:function(t){return function(){var e=Object(Pt.a)(wt.a.mark((function e(n,r){var c,s;return wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=t,m.put("profile",a).then((function(t){return t.data}));case 2:if(c=e.sent,s=r().auth.id,0!==c.resultCode){e.next=8;break}n(At(s)),e.next=10;break;case 8:throw n(Object(K.a)("edit-profile",{_error:c.messages[0]})),new Error(c.messages[0]);case 10:case"end":return e.stop()}var a}),e)})));return function(t,n){return e.apply(this,arguments)}}()}},te=Object(pt.d)(Object(h.b)((function(t){return{userInfo:t.contentPage.userInfo,id:t.auth.id,isAuth:t.auth.isAuth,status:t.usersPage.status}}),$t),O.g)(Object(bt.a)(Qt,"login",(function(t){return!t.isAuth}))),ee=c.a.lazy((function(){return n.e(3).then(n.bind(null,292))})),ne=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(b.jsxs)("div",{className:"app-wrapper",children:[Object(b.jsx)(it,{}),Object(b.jsx)(d,{}),Object(b.jsx)("div",{className:"app-wrapper-content",children:Object(b.jsxs)(O.d,{children:[Object(b.jsx)(O.b,{path:"/",exact:!0,component:te}),Object(b.jsx)(O.b,{path:"/dialogs",render:function(){return Object(b.jsx)(r.Suspense,{fallback:Object(b.jsx)("div",{children:"Loading..."}),children:Object(b.jsx)(ee,{})})}}),Object(b.jsx)(O.b,{path:"/profile/:id?",component:te}),Object(b.jsx)(O.b,{path:"/users",component:q}),Object(b.jsx)(O.b,{path:"/login",render:function(){return Object(b.jsx)(ht,{})}}),Object(b.jsx)(O.b,{path:"*",render:function(){return Object(b.jsx)("h1",{children:"404 NOT FOUND "})}})]})})]}):Object(b.jsx)(F,{})}}]),n}(c.a.Component),re=Object(pt.d)(O.g,Object(h.b)((function(t){return{initialized:t.app.initialized}}),{initializeApp:function(){return function(t){Promise.all([t(nt())]).then((function(){return t({type:mt})}))}}}))(ne),ce=function(){return Object(b.jsx)(h.a,{store:zt,children:Object(b.jsx)(j.a,{children:Object(b.jsx)(re,{})})})};a.a.render(Object(b.jsx)(ce,{}),document.getElementById("root"))},38:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return c}));var r=function(t){if(!t)return"Required field"},c=function(t){return function(e){if(e&&e.length>t)return"Max length ".concat(t)}}},65:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(3),c=(n(1),n(10)),s=n(11),a=n(0),i=function(t){return{isAuth:t.auth.isAuth}},o=function(t,e,n){return Object(s.b)(i)((function(s){return n(s)?Object(a.jsx)(c.a,{to:"/".concat(e)}):Object(a.jsx)(t,Object(r.a)({},s))}))}}},[[290,1,2]]]);
//# sourceMappingURL=main.22c39667.chunk.js.map